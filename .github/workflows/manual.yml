name: manual-wf

on:
  workflow_dispatch:
    inputs:
      name:
        description: user name
        required: true
        type: string
      role:
        description: user role
        required: true
        type: choice
        default: user
        options:
          - user
          - admin
      passphrase:
        description: passphrase
        required: false
        type: string

jobs:
  manual-flow:
    runs-on: ubuntu-latest
    steps:
      - name: create pass
        run: |
          passcd=${{ inputs.passphrase || 'Nemo' }}
          echo passcd
          echo passcd | base64
          echo passcd | base64 > ./pass_base644.txt
      - name: create greeting
        run: |
          echo "Hello, ${{ inputs.name }}. You authorized as ${{ inputs.role }}. You pass to login: $(cat ./pass_base644.txt)"